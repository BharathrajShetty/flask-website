<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <title>Job : My Career</title>
  <style>
    h3 {
      font-size: 30px;
      color: rgb(100, 100, 100);
    }
    body {
      max-width: 720px;
      margin: 0 auto;
      padding: 5px;
    }
    .center-button {
        display: flex;
        justify-content: center; /* Centers items horizontally */
        align-items: center; /* Centers items vertically */
    }
    .job-tag-li {
      margin-left: 4px;
    }
    .job-tag {
      font-size: 16px;
      margin-left: 4px;
    }
    .job-tag-title {
      font-size: 12px;
      color: #8f8e8c;
    }

    .job-status {
      padding: 10px;
      margin: 10px;
      border-radius: 40%;
      height: 50px;
      align-content: center;
      text-align: center;
      font-size: 11px;
      font-weight: 500;
      color: white;
    }

    .Selected {
      background-color: #28a745;
    }
    .Applied {
      background-color: #ffc107;
    }
    .Rejected {
      background-color: #dc3545;
    }
  </style>
  
</head>
<body>
  {% include 'nav.html' %}
  {% include 'pages/flash/flash_message.html' %}
  <div class="mx-2">
    <div class="d-flex justify-content-between">
      <div>
        <h3>{{job_details[0]['job_title']}}</h3>
        <div class="mb-2">{{job_details[0]['company']}}</div>
      </div>
      <div class="job-status {{job_status}}" id="jobStatus">
        {% if job_status == 'Selected' %}
          Short-listed
        {% else %}
          {{ job_status }}
        {% endif %}
      </div>
    </div>
    <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
          <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"/>
        </svg>
        <span class="job-tag-li">{{job_details[0]['location']}}</span>
      </div>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-briefcase-fill" viewBox="0 0 16 16">
          <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5"/>
          <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85z"/>
        </svg>
        <span class="job-tag-li">{{job_details[0]['experience']}}</span>
      </div>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-coin" viewBox="0 0 16 16">
          <path d="M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518z"/>
          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
          <path d="M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11m0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12"/>
        </svg>
        <span class="job-tag-li">{{job_details[0]['salary']}}</span>
      </div>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
          <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
        </svg>
        <span class="job-tag-li">{{job_details[0]['total_vacancy']}} openings</span>
      </div>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pin-fill" viewBox="0 0 16 16">
          <path d="M4.146.146A.5.5 0 0 1 4.5 0h7a.5.5 0 0 1 .5.5c0 .68-.342 1.174-.646 1.479-.126.125-.25.224-.354.298v4.431l.078.048c.203.127.476.314.751.555C12.36 7.775 13 8.527 13 9.5a.5.5 0 0 1-.5.5h-4v4.5c0 .276-.224 1.5-.5 1.5s-.5-1.224-.5-1.5V10h-4a.5.5 0 0 1-.5-.5c0-.973.64-1.725 1.17-2.189A6 6 0 0 1 5 6.708V2.277a3 3 0 0 1-.354-.298C4.342 1.674 4 1.179 4 .5a.5.5 0 0 1 .146-.354"/>
        </svg>
        <span class="job-tag-li">{{job_details[0]['work_mode']}}</span>
      </div>
      <div>
        <div class="job-tag-title mt-2">Required skills</div>
        <span class="job-tag">{{job_details[0]['skills']}}</span>
        <div class="job-tag-title mt-2">Employment type</div>
        <span class="job-tag">{{job_details[0]['employment_type']}}</span>
        <div class="job-tag-title mt-2">Education</div>
        <span class="job-tag">{{job_details[0]['educational_qualification']}}</span>
      </div>
    </div>
    <h5>Job description</h5>
    <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
      <h6>Roles & Responsibilities</h6>
      <ul>
        {% for line in job_details[0]['responsibilites'].split('\\n') %}
          <li>
            <div>
              <span>{{line}}</span>
            </div>
          </li>
        {% endfor %}
      </ul>
      <h6>Requirements</h6>
      <ul>
        {% for line in job_details[0]['requirements'].split('\\n') %}
          <li>
            <div>
              <span>{{line}}</span>
            </div>
          </li>
        {% endfor %}
      </ul>
    </div>
    <!-- <a href="/" class="center-button"> -->
      <button type="button" class="btn btn-outline-primary" id="job-apply-button" onclick="showApplicationForm()">Apply</button>
    <!-- </a> -->
  </div>
  <div id="application-form-1" style="display: none">
    {% include "/pages/forms/application_form.html" %}
  </div>
  {% include 'footer.html' %}

  <script>
    function showApplicationForm() {
      application_status = "{{job_status}}"
      if(application_status == ""){
        if (document.getElementById('application-form-1').style.display === 'none'){
          document.getElementById('application-form-1').style.display = 'block';
          document.getElementById('job-apply-button').innerHTML = 'Hide';
        }
        else{
          document.getElementById("job-apply-button").innerHTML = "Apply"        
          document.getElementById('application-form-1').style.display = 'none';
        }
      }else{
        document.getElementById("job-apply-button").disabled = true
      }
    }
  </script>
</body>
</html>