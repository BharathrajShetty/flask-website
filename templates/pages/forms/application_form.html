<div class="shadow p-3 mb-5 bg-body-tertiary rounded">
  <h4>Application form</h4>
  <form action="/jobs/{{job_details[0]['id']}}/apply" name="application-form" onsubmit="return validateForm()" method="post">
    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input type="text" name="name" class="form-control" id="name" placeholder="Bharathraj Shetty" required>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" name="email" class="form-control" id="email" placeholder="bharath@gmail.com" required>
    </div>
    <div class="mb-3">
      <label for="phone" class="form-label">Phone</label>
      <input type="tel" name="phone" class="form-control" id="phone" placeholder="63xxxxxx98" required>
    </div>
    <div class="mb-3">
      <label for="qualification" class="form-label">Educational Qualification</label>
      <input type="text" name="qualification" class="form-control" id="qualification" placeholder="B.Sc. in Mathematics" required>
    </div>
    <div class="mb-3">
      <label for="experience" class="form-label">Work Experience</label>
      <input type="text" name="experience" class="form-control" id="experience" placeholder="3 years of experience in automation" required>
    </div>
    <div class="mb-3">
      <label for="skills" class="form-label">Key Skills</label>
      <textarea type="text" name="skills" class="form-control" id="skills" placeholder="Python, RPA" required></textarea>
    </div>
    <div class="mb-3">
      <label for="notice-period" class="form-label">Notice Period</label>
      <input type="text" name="notice_period" class="form-control" id="notice-period" placeholder="1 month" required>
    </div>
    <div class="mb-3">
      <label for="resume" class="form-label">Resume</label>
      <input type="file" name="resume" class="form-control" id="resume" placeholder="Enter your resume" accept=".doc,.docx,.ppt,.pptx,.pdf" required>
    </div>
    <div>
      <input type="submit" id="formSubmitButton" class="btn btn-primary" value="Verify" >
    </div>
  </form>
</div>

<script>
  function validateForm() {
    let doc = document.forms["application-form"]
    if (doc["name"].value.length > 50 ) {
      alert("Length of the candidate name should be less than 50 characters")
      return false
    }
    if (doc["email"].value.length > 100 ) {
      alert("Length of the Email should be less than 100 characters")
      return false
    }
    if (doc["phone"].value.length != 10 ) {
      alert("Invalid Phone number")
      return false
    }
    if (doc["qualification"].value.length > 50 ) {
      alert("Length of the Educational Qualification should be less than 50 characters")
      return false
    }
    if (doc["experience"].value.length > 50 ) {
      alert("Length of the Work Experience should be less than 50 characters")
      return false
    }
    if (doc["skills"].value.length > 500 ) {
      alert("Length of the Key Skills should be less than 500 characters")
      return false
    }
    if (doc["notice-period"].value.length > 20 ) {
      alert("Length of the <b>Notice Period</b> should be less than 20 characters")
      return false
    }
    if (document.getElementById("formSubmitButton").value == 'Verify'){
      document.getElementById("formSubmitButton").value = 'Submit'
      return false
    }
  }
</script>